<html>
<head>
<title>Vetor simples, Vetor bidimensional, estrutura de repetição e manipulação de elementos DOM</title>




</head>
<body onLoad="javascript:init();">

 
<h1>Vetor simples, Vetor bidimensional, estrutura de repetição e manipulação de elementos DOM</h1>
<hr>

<select id="estados" onChange="javascript: carregarCidades(this)">
<option value="">--SELECIONE</option>
</select>

<select id="cidades">
<option value="">--SELECIONE</option>
</select>

<script language="javascript">


 var arrEstados = ["SP","RJ","MG","SC","AC","AM"];
 var arrCidades = {
                   'SP': ["São Paulo","Ribeirão Preto","Uru"],
                   'RJ': ["Rio de Janeiro","Niteroi"],
                   'MG': ["Belo Horizonte","Varginha"]
		  };


 var obterComboEstados = function(){
  return document.getElementById("estados");
 }

var obterComboCidades = function(){
  return document.getElementById("cidades");
 }


function carregarEstados(){  
  var comboEstados = obterComboEstados();
  for(i=0;i<arrEstados.length;i++){
   insereOpcao(comboEstados,arrEstados[i]);
  }       
}

function carregarCidades(comboEstado){  

  var estado = comboEstado.options[comboEstado.selectedIndex].value;
  var comboCidades = obterComboCidades();
    
  removeOpcoes(comboCidades);  

  if(!arrCidades[estado])
   return; 
 
  for(i=0;i<arrCidades[estado].length;i++)
   insereOpcao(comboCidades,arrCidades[estado][i]);

  comboCidades.focus();
}



function insereOpcao(combo,item){
   var opcao = document.createElement("option");
   opcao.text = item
   opcao.value = item;
   console.log(item);
  //insere sempre com uma ordem a mais
   combo.add(opcao,i+1);
}

function removeOpcoes(combo){
 combo.options.length = 1;
}
 

function init(){
 carregarEstados();
} 


</script>

</body>
</html>
